# ===========================================
# CONFIGURATION BACKEND AFRIBOURSE
# ===========================================
# IMPORTANT: Copiez ce fichier vers .env et remplacez TOUTES les valeurs CHANGE_ME
# Ne commitez JAMAIS le fichier .env avec de vraies valeurs!

# Environnement
NODE_ENV=development

# Port du serveur backend
PORT=3001

# Host (0.0.0.0 pour accepter toutes les connexions, utile en production)
HOST=0.0.0.0

# Origine des CORS - Domaine du frontend (séparés par des virgules)
CORS_ORIGIN=http://localhost:5173,http://localhost:5174

# ===========================================
# SECURITE API
# ===========================================

# Clé API pour sécuriser l'accès à l'API
# Générez avec: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY=CHANGE_ME_generate_32_random_bytes

# ===========================================
# BASE DE DONNEES
# ===========================================

# MongoDB URI
# Format: mongodb+srv://username:password@cluster.mongodb.net/database_name
# Local: mongodb://localhost:27017/afribourse
DATABASE_URI=CHANGE_ME_mongodb_connection_string

# ===========================================
# CACHE REDIS (Upstash)
# ===========================================

# URL du cache Redis Upstash
REDIS_URL=CHANGE_ME_upstash_redis_url

# Token d'authentification Redis Upstash
REDIS_TOKEN=CHANGE_ME_upstash_redis_token

# Activer/désactiver le cache (false pour dev sans Redis)
CACHE_ENABLED=false

# ===========================================
# CRON JOBS (Upstash QStash)
# ===========================================

# Secret pour authentifier les appels CRON
# Générez avec: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRON_SECRET=CHANGE_ME_cron_secret_64_chars

# Token QStash pour la vérification des signatures
QSTASH_TOKEN=CHANGE_ME_qstash_token

# ===========================================
# AUTHENTIFICATION JWT
# ===========================================

# Secret JWT - CRITIQUE pour la sécurité!
# Générez avec: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_ME_jwt_secret_128_chars

# Durée de validité des tokens
JWT_EXPIRES_IN=7d

# ===========================================
# EMAILS (Brevo SMTP)
# ===========================================

SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587

# Credentials SMTP - https://app.brevo.com/settings/keys/smtp
SMTP_USER=CHANGE_ME_brevo_smtp_user
SMTP_PASS=CHANGE_ME_brevo_smtp_password

# Expéditeur (configurer après vérification du domaine dans Brevo)
SMTP_FROM_EMAIL=CHANGE_ME_verified_email@yourdomain.com
SMTP_FROM_NAME=AfriBourse

# ===========================================
# URLs APPLICATION
# ===========================================

# En production, utilisez vos vraies URLs!
FRONTEND_URL=http://localhost:5173
BACKEND_URL=http://localhost:3001

# ===========================================
# RATE LIMITING
# ===========================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# UPLOADS
# ===========================================

MAX_FILE_SIZE=10485760
UPLOAD_PATH=public/uploads

# ===========================================
# MONITORING - Sentry (Error Tracking + APM)
# ===========================================

# DSN fourni par Sentry (Settings > Projects > Client Keys)
SENTRY_DSN=CHANGE_ME_sentry_dsn
SENTRY_ENVIRONMENT=development

# ===========================================
# LOGGING (Pino + Better Stack / Logtail)
# ===========================================

# Niveau de log: debug, info, warn, error
LOG_LEVEL=info

# Token Better Stack (Logtail) pour centralisation des logs
# https://logs.betterstack.com > Sources > Connect source
LOGTAIL_TOKEN=CHANGE_ME_logtail_source_token

# ===========================================
# PUSH NOTIFICATIONS (OneSignal)
# ===========================================

# App ID et REST API Key depuis https://onesignal.com
ONESIGNAL_APP_ID=CHANGE_ME_onesignal_app_id
ONESIGNAL_REST_API_KEY=CHANGE_ME_onesignal_rest_api_key
